{"version":3,"sources":["PageLink.tsx","HeaderBar.tsx","MapSearchBar.tsx","MapSearchResults.tsx","ListingSnippet.tsx","util.ts","ListingContainer.tsx","MapEmbed.tsx","MapNearbyListings.tsx","MapAside.tsx","MapApp.tsx","App.tsx","constants.ts","redux/store.ts","index.tsx"],"names":["PageLink","props","href","className","active","name","HeaderBar","activePageLink","MapSearchBar","searchString","useSelector","state","searchInputString","dispatch","useDispatch","onSubmit","e","preventDefault","type","value","onChange","currentTarget","style","backgroundImage","MapSearchResults","loc","locations","searchResults","cardContent","src","image","alt","location","ListingSnippet","infoIcon","label","data","formatNumberAsString","integer","toString","reverse","replace","formatPrice","price","String","prototype","this","split","join","myMap","ListingContainer","formattedPrice","starIcon","favorite","onClick","id","streetAddress","stopPropagation","handleFavClick","display","netAcreage","Math","round","MapNearbyListings","results","listings","reduce","acc","locID","idx","push","key","MapAside","markerArray","focusResultIcon","L","icon","iconUrl","iconSize","iconAnchor","popupAnchor","blurredResultIcon","initMap","map","zoomSnap","setView","tileLayer","attribution","subdomains","minZoom","maxZoom","ext","addTo","MapEmbed","appState","mapCenter","mapZoom","submittedSearch","searchQuery","useEffect","markers","originalMarkersCount","length","i","remove","shift","removeAllMarkers","forEach","markerIcon","newMarker","marker","latitude","longitude","markerNode","bindPopup","addEventListener","target","openPopup","sourceTarget","_icon","JSON","stringify","lat","lng","MapApp","App","initState","filterLocationsBySearch","searchStr","lowerSearch","toLowerCase","includes","sortByDist","center","locIdA","locIdB","aLat","aLng","bLat","bLng","cLat","cLng","sqrt","pow","calcMapStateAndSortResults","unsortedResults","locs","markerCollection","latSum","longSum","sortedResults","locCount","largestDist","Object","values","mark","distFromCenter","max","calcMapZoom","sort","bind","newMapCenter","newMapZoom","reducer","oldState","action","obj1","newState","parse","trim","matchingIdx","matchingElement","splice","store","createStore","composeWithDevTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.782756fe.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst PageLink: React.SFC<PageLinkProps> = (props: PageLinkProps) => {\n  return (\n    <a href={props.href} className={(props.active === props.name) ? \"active\" : \"\"}>\n      {props.name}\n    </a>\n  )\n}\n\nexport default PageLink","import React from 'react'\nimport PageLink from './PageLink'\n\nconst HeaderBar: React.SFC<HeaderBarProps> = (props: HeaderBarProps) => {\n  const active = props.activePageLink\n\n  return (\n    <nav className=\"upper-navbar\">\n      <div className=\"nav-left\">\n        <h1 className=\"page-title\">LandGate</h1>\n        <PageLink href=\"#\" active={active} name=\"View Map\"/>\n        <PageLink href=\"#\" active={active} name=\"Lease / Sell\"/>\n        <PageLink href=\"#\" active={active} name=\"Buy\"/>\n        <PageLink href=\"#\" active={active} name=\"Appraise\"/>\n        <PageLink href=\"#\" active={active} name=\"About\"/>\n        <PageLink href=\"#\" active={active} name=\"Help\"/>\n      </div>\n      <div className=\"nav-right\">\n        <address><a className=\"telephone-link\" href=\"tel:855-867-3876\">855-867-3876</a></address>\n        <div className=\"account-button-grp\" >\n          <PageLink href=\"#\" active={active} name=\"Login\"/>\n          <PageLink href=\"#\" active={active} name=\"Sign Up\"/>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default HeaderBar","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nconst MapSearchBar: React.SFC = () => {\r\n\r\n  const searchString: string = useSelector( (state: AppState) => state.searchInputString )\r\n  const dispatch = useDispatch()\r\n   \r\n  const updateSearchField = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    dispatch({type:\"UPDATE_SEARCH\",value:e.currentTarget.value})\r\n  }\r\n\r\n  const submitForm = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    dispatch({type:\"SUBMIT_SEARCH\"})\r\n  }\r\n\r\n  const bckImg = {backgroundImage: \"url('assets/icons/search-icon.svg')\"}\r\n\r\n  return (\r\n    <section className=\"search-bar\">\r\n      <form onSubmit={submitForm}>\r\n        <div className=\"search-input-container\">\r\n        <input className=\"search-input\" value={searchString} onChange={updateSearchField}/>\r\n        <input className=\"search-submit\" type=\"submit\" value=\"\" style={bckImg}/>\r\n        </div>\r\n        <select className=\"search-catagory-select custom-dropdown-arrow\">\r\n          <option>Mineral Rights</option>\r\n        </select>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default MapSearchBar","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst MapSearchResults: React.SFC = () => {\n  \n  //`loc` is the first sorted search result. This matches the focused icon on the map\n  const loc: StateLocation = useSelector( (state: AppState) => state.locations[state.searchResults[0]] )\n\n  const cardContent = (loc) ?\n  (\n    <>\n      <img className=\"search-result-img\" src={`assets/images/${loc.image}`} alt=\"property\"/>\n      <div className=\"search-result-info\">\n        <h4 className=\"search-result-name\">{loc.name}</h4>\n        <p className=\"search-result-location\">{loc.location}</p>\n        <p className=\"search-result-list-question\">Would you like to list property in this area?</p>\n        <div className=\"search-result-button-container\">\n          <button className=\"maroon-bkgd\">Yes</button>\n          <button className=\"grey-bkgd\">Need Help?</button>\n        </div>\n      </div>\n    </>\n  ) :\n  (\n    <></>\n  )\n\n  return (\n    <section className=\"search-results\">\n      <h3 className=\"map-aside-section-title\">Search Results</h3>\n      <div className=\"search-result-card\">\n        {cardContent}\n      </div>\n    </section>\n  )\n}\n\nexport default MapSearchResults","import React from 'react'\r\n\r\nconst ListingSnippet: React.SFC<ListingSnippetProps> = (props: ListingSnippetProps) => {\r\n  \r\n  const infoIcon = (<img className=\"info-icon\" src=\"assets/icons/iconmonstr-info-5-orange.svg\" alt=\"(info)\"/>)\r\n\r\n  return (\r\n    <>\r\n      <div className=\"list-data-label\">\r\n        {props.label}\r\n        {infoIcon}\r\n      </div>\r\n      <div className=\"list-data\">\r\n        {props.data}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ListingSnippet\r\n\r\n","\n\n  \nString.prototype.reverse = function () {\n  return this.split('').reverse().join('')\n}\n\nexport function formatNumberAsString (integer: number): string {\n  // `12345678` => `12,345,678`\n  return integer.toString()\n                .reverse()\n                .replace(/(\\d{3})/g,'$1,')\n                .reverse()\n                .replace(/^,/,'')\n}\n\nexport function formatPrice (price: number): string {\n  return '$' + formatNumberAsString(price)\n}","import React from 'react'\nimport ListingSnippet from './ListingSnippet'\nimport { useDispatch } from 'react-redux'\nimport { formatPrice, formatNumberAsString } from './util'\n\nconst ListingContainer: React.SFC<ListingInfoProps> = (props: ListingInfoProps) => {\n\n  const dispatch = useDispatch()\n\n  const formattedPrice = formatPrice(props.loc.price)\n\n  function handleFavClick (id: string,e: React.MouseEvent<HTMLImageElement, MouseEvent>): void {\n    e.stopPropagation()\n    dispatch({type:\"TOGGLE_FAVORITE\",value:id})\n  }\n\n  function handleListingClick (id: string): void {\n    dispatch({type:\"SELECT_RESULT\",value:id})\n  }\n\n  const starIcon = (props.loc.favorite) ? \"assets/icons/filled-star.svg\" : \"assets/icons/empty-star.svg\"\n  \n    return (\n    <>\n      <div className=\"listing-card\" onClick={()=>handleListingClick(props.loc.name+props.loc.streetAddress)}>\n        <div className=\"listing-card-label\">Lot For Sale</div>\n        <div className=\"favorite-listing\">\n          <img className=\"listing-star-icon\" src={starIcon} alt=\"favorite\" onClick={(e)=>handleFavClick(props.loc.name+props.loc.streetAddress,e)}/>\n        </div>\n        <div className=\"listing-info\">\n          <div className=\"listing-col\">\n            <div className=\"list-name\">{props.loc.name}</div>\n            <div className=\"list-price\">{formattedPrice}</div>\n            <div className=\"active-badge\" style={(!props.loc.active) ? {display:\"none\"} : {}}>\n              <div className=\"green-dot\"/>\n              Active\n            </div>\n          </div>\n          <div className=\"listing-col\">\n            <ListingSnippet label=\"Street Address\" data={props.loc.streetAddress}/>\n            <ListingSnippet label=\"Net Mineral Acreage\" data={formatNumberAsString(props.loc.netAcreage)}/>\n          </div>\n          <div className=\"listing-col\">\n            <ListingSnippet label=\"Location\" data={props.loc.location}/>\n            <ListingSnippet label=\"Price Per Acre\" data={formatPrice(Math.round(props.loc.price/props.loc.netAcreage))}/>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default ListingContainer\n\n","import React, { useEffect } from 'react'\nimport L, { LeafletEvent } from 'leaflet'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { formatPrice } from './util'\n\nlet myMap: L.Map\nconst markerArray: Array<L.Marker> = []\n\nconst focusResultIcon = L.icon({\n  iconUrl: 'assets/icons/focused-map-marker.svg',\n  iconSize: [34, 50],\n  iconAnchor: [17, 50],\n  popupAnchor: [0, -53]\n})\n\nconst blurredResultIcon = L.icon({\n  iconUrl: 'assets/icons/blurred-map-marker.svg',\n  iconSize: [22, 32],\n  iconAnchor: [11, 32],\n  popupAnchor: [0, -35]\n})\n\n/*\n *  INITIALIZE MAP\n */\nconst initMap = () => {\n  myMap = L.map('map',{zoomSnap: .25}).setView([37.090240,-95.712891], 4.6)\n  const Stamen_Terrain =\n  L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}',\n  {\n    attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    subdomains: 'abcd',\n    minZoom: 4,\n    maxZoom: 13,\n    // @ts-ignore - @types/leaflet isn't up to date with leaflet.\n    // This prop is required by lib, but not included by type definition.\n    ext: 'png'\n  })\n  Stamen_Terrain.addTo(myMap)\n}\n\nfunction removeAllMarkers (markers: Array<L.Marker>): void {\n  const originalMarkersCount = markers.length\n  for(let i=0;i<originalMarkersCount;i++) {\n    markers[0].remove()\n    markers.shift()\n  }\n}\n\nfunction renderPopup (loc: StateLocation): string {\n  return `\n    <div class=\"popup-container\">\n      <div class=\"list-name\">\n      ${loc.name}\n      </div>\n      <div class=\"list-price\">\n        ${formatPrice(loc.price)}\n      </div>\n      <div class=\"list-data-label\">\n      Net Mineral Acreage\n      </div>\n      <div class=\"list-data\">\n      ${loc.netAcreage}\n      </div>\n    </div>\n  `\n}\n\nconst MapEmbed: React.SFC = () => {\n  \n  const appState: AppState = useSelector( (state: AppState) => state )\n  \n  const results: Array<string> = appState.searchResults\n  const mapCenter: {lat: number, lng: number} | null = appState.mapCenter\n  const mapZoom: number | null = appState.mapZoom\n  const locations: {[key: string]: StateLocation } = appState.locations\n  const submittedSearch: string = appState.searchQuery\n  \n  const dispatch = useDispatch()\n  \n  //only called once on initial render\n  useEffect(initMap,[])\n  \n  useEffect( () => {\n    removeAllMarkers(markerArray)\n\n    results.forEach( (locID,idx) => {\n      const markerIcon = (idx === 0) ? focusResultIcon : blurredResultIcon\n      const newMarker = L.marker([locations[locID].latitude,locations[locID].longitude],{\n        icon: markerIcon,\n        alt: locations[locID].name + locations[locID].streetAddress\n      })\n      \n      const markerNode = newMarker.addTo(myMap)\n\n      markerNode.bindPopup(renderPopup(locations[locID]))\n\n      markerNode.addEventListener('mouseover', (e: LeafletEvent) => {\n        e.target.openPopup();\n      })\n\n      markerNode.addEventListener('click', (e: LeafletEvent) => {\n        const locID = e.sourceTarget._icon.alt\n        dispatch({type:\"SELECT_RESULT\",value: locID})\n      })\n\n      markerArray.push(newMarker)\n    })\n    //useEffect dependancy is serialized to prevent 'Referential Inequality' from triggering this useEffect\n  },[JSON.stringify(results)])\n\n  useEffect( () => {\n    if (mapCenter && mapZoom) {\n      myMap.setView([mapCenter.lat,mapCenter.lng],mapZoom)\n    }\n  },[mapZoom,mapCenter?.lat,mapCenter?.lng,submittedSearch])\n\n  return (\n    <figure className=\"map-embed\">\n      <div id=\"map\"/>\n    </figure>\n  )\n}\n\nexport default MapEmbed","import React from 'react'\nimport ListingContainer from './ListingContainer'\nimport { useSelector } from 'react-redux'\n\nconst MapNearbyListings: React.SFC = () => {\n\n  const results: Array<string> = useSelector( (state: AppState) => state.searchResults )\n  const locations: {[key: string]: StateLocation } = useSelector( (state: AppState) => state.locations )\n\n  const listings = results.reduce((acc: Array<JSX.Element>,locID,idx) => {\n    if(idx > 0) {\n      acc.push((<ListingContainer key={locations[locID].name+locations[locID].location} loc={locations[locID]}/>))\n      return acc\n    }\n    return acc\n  },[])\n\n  return (\n    <section className=\"listings\">\n      <h3 className=\"map-aside-section-title\">Nearby Listings</h3>\n      <div className=\"listings-container\">\n        {listings}\n        <div className=\"listing-spacer\"/>\n      </div>\n    </section>\n  )\n}\n\nexport default MapNearbyListings","import React from 'react'\r\nimport MapSearchBar from './MapSearchBar'\r\nimport MapSearchResults from './MapSearchResults'\r\nimport MapNearbyListings from './MapNearbyListings'\r\n\r\nconst MapAside: React.SFC = () => {\r\n\r\n  // const greeting: string = useSelector( (state: AppState) => state.greeting )\r\n  // const dispatch = useDispatch()\r\n   \r\n\r\n  return (\r\n    <aside className=\"map-aside\">\r\n      <MapSearchBar />\r\n      <MapSearchResults />\r\n      <MapNearbyListings />\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default MapAside","import React from 'react'\r\nimport MapAside from './MapAside'\r\nimport MapEmbed from './MapEmbed'\r\n\r\nconst MapApp: React.SFC = () => {\r\n\r\n  // const greeting: string = useSelector( (state: AppState) => state.greeting )\r\n  // const dispatch = useDispatch()\r\n   \r\n\r\n  return (\r\n    <section className=\"map-app\">\r\n      <MapAside />\r\n      <MapEmbed />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default MapApp","import React, { useEffect } from 'react'\nimport HeaderBar from './HeaderBar'\nimport MapApp from './MapApp'\nimport './App.css'\nimport { useDispatch } from 'react-redux'\n\nfunction App() {\n\n  const dispatch = useDispatch()\n\n  useEffect( ()=> {\n    dispatch({type: \"POPULATE_LOCATIONS\"})\n  })\n\n  return (\n    <div className=\"app\">\n      <HeaderBar activePageLink=\"Lease / Sell\" />\n      <MapApp />\n    </div>\n  );\n}\n\nexport default App\n","export const locations: Array<LotLocation> = [\n  {\n    name: \"Country Road Lot 266\",\n    price: 395000,\n    streetAddress: \"10181 County Road 266\",\n    location: \"Rochelle, TX\",\n    netAcreage: 80.84,\n    active: true,\n    latitude: 31.435990,\n    longitude: -99.030230,\n    image: \"cr_lot_266.jpg\"\n  },\n  {\n    name: \"Country Road Lot 310\",\n    price: 286790,\n    streetAddress: \"168 County Road 310\",\n    location: \"Gouldbusk, TX\",\n    netAcreage: 168.7,\n    active: true,\n    latitude: 31.569520,\n    longitude: -99.477880,\n    image: \"cr_lot_310.jpg\"\n  },\n  {\n    name: \"FM Lot 1929\",\n    price: 65000,\n    streetAddress: \"15040 Fm 1929 E\",\n    location: \"Millersview, TX\",\n    netAcreage: 6.83,\n    active: false,\n    latitude: 31.500940,\n    longitude: -99.721330,\n    image: \"fm_lot_1929.jpg\"\n  },\n  {\n    name: \"FM Lot 503\",\n    price: 495000,\n    streetAddress: \"6692 Fm #503\",\n    location: \"Brady, TX 76836\",\n    netAcreage: 198,\n    active: true,\n    latitude: 31.021270,\n    longitude: -99.464190,\n    image: \"fm_lot_503.jpg\"\n  },\n  {\n    name: \"Country Road Lot 312\",\n    price: 1993600,\n    streetAddress: \"3408 County Road 312\",\n    location: \"Voss, TX\",\n    netAcreage: 712.72,\n    active: true,\n    latitude: 31.502700,\n    longitude: -99.586870,\n    image: \"cr_lot_312.jpg\"\n  },\n  {\n    name: \"Country Road Lot 362\",\n    price: 259000,\n    streetAddress: \"1006 County Road 362\",\n    location: \"Coleman, TX\",\n    netAcreage: 46.93,\n    active: false,\n    latitude: 31.71204,\n    longitude: -99.52108,\n    image: \"cr_lot_362.jpg\"\n  },\n  {\n    name: \"Country Road Lot 1343\",\n    price: 1425000,\n    streetAddress: \"8043 County Road 1343\",\n    location: \" Paint Rock, TX\",\n    netAcreage: 801.6,\n    active: true,\n    latitude: 31.826883,\n    longitude: -99.007297,\n    image: \"cr_lot_1343.jpg\"\n  },\n  {\n    name: \"FM Lot 503\",\n    price: 425000,\n    streetAddress: \"9401 Fm 503\",\n    location: \" Doole, TX\",\n    netAcreage: 52.26,\n    active: false,\n    latitude: 31.555611,\n    longitude: -99.56996,\n    image: \"fm_lot_503.jpg\"\n  },\n];\n","import { createStore, Reducer } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { locations } from '../constants'\n\n\nconst initState: AppState = {\n  locations: {},\n  searchInputString: \"\",\n  searchQuery: \"\",\n  searchResults: [],\n  mapCenter: {lat:31.4052,lng:-99.3351},\n  mapZoom: 6.5\n}\n\nfunction deepCopy (obj1: any): any {\n  return JSON.parse(JSON.stringify(obj1))\n}\n\nfunction filterLocationsBySearch (searchStr: string,acc: Array<string>,loc: StateLocation): Array<string> {\n  const lowerSearch = searchStr.toLowerCase()\n  if( lowerSearch.length > 0 &&\n      (loc.name.toLowerCase().includes(lowerSearch) ||\n      loc.streetAddress.toLowerCase().includes(lowerSearch))) {\n        const locID = loc.name+loc.streetAddress\n        acc.push(locID)\n      }\n    return acc\n}\n\n\nfunction sortByDist (state: AppState,center: {lat:number,lng:number},locIdA: string,locIdB: string): number {\n  const aLat = state.locations[locIdA].latitude\n  const aLng = state.locations[locIdA].longitude\n  const bLat = state.locations[locIdB].latitude\n  const bLng = state.locations[locIdB].longitude\n  const cLat = center.lat\n  const cLng = center.lng\n\n  const distA = Math.sqrt( Math.pow(cLat-aLat,2) + Math.pow(cLng-aLng,2) )\n  const distB = Math.sqrt( Math.pow(cLat-bLat,2) + Math.pow(cLng-bLng,2) )\n  return distA - distB\n}\n\nfunction calcMapZoom (markers: {[key: string]: {lat: number,lng: number}},center: {lat: number,lng: number}) {\n  const largestDist = Object.values(markers).reduce( (acc: number, mark: {lat: number,lng: number}): number => {\n    const distFromCenter = Math.sqrt( Math.pow(mark.lat - center.lat,2) + Math.pow(mark.lng-center.lng,2) )\n    return Math.max(acc,distFromCenter)\n  },0)\n  \n  if(largestDist === 0) {\n    return 13\n  }\n  return -3 * largestDist + 11\n}\n\nfunction calcMapStateAndSortResults (state: AppState,unsortedResults: Array<string>): {newMapCenter: {lat:number,lng:number} | null, newMapZoom: number | null, sortedResults: Array<string>} {\n  const locs = state.locations\n  const markerCollection: {[key: string]: {lat: number,lng: number}} = {}\n  let latSum = 0\n  let longSum = 0\n  \n  unsortedResults.forEach( (locID: string) => {\n    markerCollection[locID] = {lat:locs[locID].latitude, lng:locs[locID].longitude}\n    latSum += locs[locID].latitude\n    longSum += locs[locID].longitude\n  },{})\n  \n  let mapCenter = null\n  let mapZoom = null\n  let sortedResults: Array<string> = []\n  \n  const locCount = unsortedResults.length\n  if(locCount > 0) {\n    mapCenter = {lat:latSum/locCount,lng:longSum/locCount}\n    mapZoom = calcMapZoom(markerCollection,mapCenter)\n  }\n  \n  if(mapCenter) {\n    sortedResults = unsortedResults.sort(sortByDist.bind(null,state,mapCenter))\n  }\n\n  return {\n    newMapCenter: mapCenter,\n    newMapZoom: mapZoom,\n    sortedResults: sortedResults\n  }\n}\n\nconst reducer: Reducer<AppState, CustAction> = (oldState: (AppState | undefined),action: CustAction) => {\n  \n  const newState: AppState = (oldState) ? deepCopy(oldState) : initState\n  \n  if (action.type === \"POPULATE_LOCATIONS\") {\n    newState.locations = locations.reduce( (acc,loc) => ({...acc,[loc.name+loc.streetAddress]:{...loc,favorite: false}}),{})\n  }\n\n  else if (action.type === \"TOGGLE_FAVORITE\" && typeof action.value === \"string\") {\n    newState.locations[action.value].favorite = !newState.locations[action.value].favorite\n  }\n\n  else if (action.type === \"UPDATE_SEARCH\" && typeof action.value === \"string\") {\n    newState.searchInputString = action.value\n  }\n\n  else if (action.type === \"SUBMIT_SEARCH\" && newState.searchInputString !== \"\") {\n    newState.searchQuery = newState.searchInputString.trim()\n    newState.searchInputString = newState.searchInputString.trim()\n    const unsortedSearchResults = Object.values(newState.locations).reduce(filterLocationsBySearch.bind(null,newState.searchQuery),[])\n    const {newMapCenter,newMapZoom,sortedResults} = calcMapStateAndSortResults(newState,unsortedSearchResults)\n    newState.mapCenter = newMapCenter\n    newState.mapZoom = newMapZoom\n    newState.searchResults = sortedResults\n  }\n\n  else if (action.type === \"SELECT_RESULT\" && typeof action.value === \"string\") {\n    let matchingIdx: number = -1\n    newState.searchResults.forEach( (locID,idx)=> {\n      if(locID === action.value) {\n        matchingIdx = idx\n      } \n    })\n    \n    if(matchingIdx >= 0) {\n      const matchingElement: Array<string> = newState.searchResults.splice(matchingIdx,1)\n      newState.searchResults = [...matchingElement,...newState.searchResults]\n    }\n  }\n\n  return newState\n}\n\nexport default () => createStore(reducer,initState,composeWithDevTools())\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport { Provider } from 'react-redux'\r\nimport createStore from './redux/store'\r\nimport 'leaflet/dist/leaflet.css'\r\n\r\nconst store = createStore()\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n    </React.StrictMode>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}