{"version":3,"sources":["HeaderBar.tsx","MapSearchBar.tsx","MapSearchResults.tsx","ListingSnippet.tsx","util.ts","ListingContainer.tsx","MapNearbyListings.tsx","MapAside.tsx","MapEmbed.tsx","MapApp.tsx","App.tsx","constants.ts","redux/store.ts","index.tsx"],"names":["HeaderBar","props","className","href","MapSearchBar","searchString","useSelector","state","searchInputString","dispatch","useDispatch","onSubmit","e","preventDefault","type","value","onChange","currentTarget","MapSearchResults","focusedID","searchResults","locations","src","image","alt","name","location","ListingSnippet","infoIcon","label","data","formatNumberAsString","integer","console","log","toString","reverse","replace","formatPrice","price","String","prototype","this","split","join","ListingContainer","formattedPrice","loc","starIcon","favorite","onClick","id","streetAddress","style","active","display","netAcreage","Math","round","MapNearbyListings","results","listings","reduce","acc","locID","idx","push","key","MapAside","markerArray","focusResultIcon","L","icon","iconUrl","iconSize","iconAnchor","popupAnchor","blurredResultIcon","initMap","window","myMap","map","zoomSnap","setView","tileLayer","attribution","subdomains","minZoom","maxZoom","ext","addTo","MapEmbed","mapCenter","mapZoom","useEffect","markers","originalMarkersCount","length","i","remove","shift","removeAllMarkers","lat","lng","forEach","markerIcon","newMarker","marker","latitude","longitude","markerNode","bindPopup","addEventListener","target","openPopup","originalEvent","closePopup","JSON","stringify","MapApp","App","initState","submittedSearch","filterLocationsBySearch","searchStr","lowerSearch","toLowerCase","includes","sortByDist","center","locIdA","locIdB","aLat","aLng","bLat","bLng","cLat","cLng","sqrt","pow","calcMapStateAndSortResults","unsortedResults","locs","markerCollection","latSum","longSum","sortedResults","locCount","largestDist","Object","values","mark","distFromCenter","max","calcMapZoom","sort","bind","newMapCenter","newMapZoom","reducer","oldState","action","obj1","newState","parse","trim","matchingIdx","matchingElement","splice","store","createStore","composeWithDevTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8745deee.chunk.js","sourcesContent":["import React from 'react'\n\ninterface HeaderBarProps {\n\n}\n\nconst HeaderBar: React.SFC<HeaderBarProps> = (props: HeaderBarProps) => {\n  return (\n    <nav className=\"upper-navbar\">\n      <div className=\"nav-left\">\n        <h1 className=\"page-title\">LandGate</h1>\n        <a href=\"#\">View Map</a>\n        <a href=\"#\">Lease / Sell</a>\n        <a href=\"#\">Buy</a>\n        <a href=\"#\">Appraise</a>\n        <a href=\"#\">About</a>\n        <a href=\"#\">Help</a>\n      </div>\n      <div className=\"nav-right\">\n        <address><a className=\"telephone-link\" href=\"tel:855-867-3876\">855-867-3876</a></address>\n        <div className=\"account-button-grp\" >\n          <a href=\"#\">Login</a>\n          <a href=\"#\">Sign Up</a>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default HeaderBar","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\n\nconst MapSearchBar: React.SFC = () => {\n\n  const searchString: string = useSelector( (state: AppState) => state.searchInputString )\n  const dispatch = useDispatch()\n   \n  const updateSearchField = (e: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch({type:\"UPDATE_SEARCH\",value:e.currentTarget.value})\n  }\n\n  const submitForm = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    dispatch({type:\"SUBMIT_SEARCH\"})\n  }\n\n  return (\n    <section className=\"search-bar\">\n      <form onSubmit={submitForm}>\n        <div className=\"search-input-container\">\n        <input className=\"search-input\" value={searchString} onChange={updateSearchField}/>\n        <input className=\"search-submit\" type=\"submit\" value=\"\"/>\n        </div>\n        <select className=\"search-catagory-select custom-dropdown-arrow\">\n          <option>Mineral Rights</option>\n        </select>\n      </form>\n    </section>\n  )\n}\n\nexport default MapSearchBar","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst MapSearchResults: React.SFC = () => {\n\n  const focusedID: string = useSelector( (state: AppState) => state.searchResults[0] )\n  const locations: {[key: string]: StateLocation; } = useSelector( (state: AppState) => state.locations )\n   \n\n  if(focusedID) {\n    return (\n      <section className=\"search-results\">\n        <h3 className=\"map-aside-section-title\">Search Results</h3>\n        <div className=\"search-result-card\">\n          <img className=\"search-result-img\" src={`/assets/images/${locations[focusedID].image}`} alt=\"property\"/>\n          <div className=\"search-result-info\">\n            <h4 className=\"search-result-name\">{locations[focusedID].name}</h4>\n            <p className=\"search-result-location\">{locations[focusedID].location}</p>\n            <p className=\"search-result-list-question\">Would you like to list property in this area?</p>\n            <div className=\"search-result-button-container\">\n              <button className=\"maroon-bkgd\">Yes</button>\n              <button className=\"grey-bkgd\">Need Help?</button>\n            </div>\n          </div>\n        </div>\n      </section>\n    )\n  } else {\n    return (\n      <section className=\"search-results\">\n        <h3 className=\"map-aside-section-title\">Search Results</h3>\n        <div className=\"search-result-card\"></div>\n      </section>\n    )\n  }\n}\n\nexport default MapSearchResults","import React from 'react'\n\nconst ListingSnippet: React.SFC<ListingSnippetProps> = (props: ListingSnippetProps) => {\n  \n  const infoIcon = (<img className=\"info-icon\" src=\"/assets/icons/iconmonstr-info-5-orange.svg\" alt=\"(info)\"/>)\n\n  return (\n    <>\n      <div className=\"list-data-label\">\n        {props.label}\n        {infoIcon}\n      </div>\n      <div className=\"list-data\">\n        {props.data}\n      </div>\n    </>\n  )\n}\n\nexport default ListingSnippet\n\n","\n\n  \n  String.prototype.reverse = function () {\n    return this.split('').reverse().join('')\n  }\n\n  export function formatNumberAsString (integer: number): string {\n    // `12345678` => `12,345,678`\n    console.log(integer,typeof integer)\n    return integer.toString()\n                  .reverse()\n                  .replace(/(\\d{3})/g,'$1,')\n                  .reverse()\n                  .replace(/^,/,'')\n  }\n\n  export function formatPrice (price: number): string {\n    return '$' + formatNumberAsString(price)\n  }","import React from 'react'\nimport ListingSnippet from './ListingSnippet'\nimport { useDispatch } from 'react-redux'\nimport { formatPrice, formatNumberAsString } from './util'\n\nconst ListingContainer: React.SFC<ListingInfoProps> = (props: ListingInfoProps) => {\n\n  const dispatch = useDispatch()\n\n  const formattedPrice = formatPrice(props.loc.price)\n\n  function handleFavClick (id: string): void {\n    dispatch({type:\"TOGGLE_FAVORITE\",value:id})\n  }\n\n  function handleListingClick (id: string): void {\n    dispatch({type:\"SELECT_RESULT\",value:id})\n  }\n\n  const starIcon = (props.loc.favorite) ? \"/assets/icons/filled-star.svg\" : \"/assets/icons/empty-star.svg\"\n  \n    return (\n    <>\n      <div className=\"listing-card\">\n        <div className=\"listing-card-label\">Lot For Sale</div>\n        <div className=\"favorite-listing\">\n          <img className=\"listing-star-icon\" src={starIcon} alt=\"favorite\" onClick={()=>handleFavClick(props.loc.name+props.loc.streetAddress)}/>\n        </div>\n        <div className=\"listing-info\" onClick={()=>handleListingClick(props.loc.name+props.loc.streetAddress)}>\n          <div className=\"listing-col\">\n            <div className=\"list-name\">{props.loc.name}</div>\n            <div className=\"list-price\">{formattedPrice}</div>\n            <div className=\"active-badge\" style={(!props.loc.active) ? {display:\"none\"} : {}}>\n              <div className=\"green-dot\"/>\n              Active\n            </div>\n          </div>\n          <div className=\"listing-col\">\n            <ListingSnippet label=\"Street Address\" data={props.loc.streetAddress}/>\n            <ListingSnippet label=\"Net Mineral Acreage\" data={formatNumberAsString(props.loc.netAcreage)}/>\n          </div>\n          <div className=\"listing-col\">\n            <ListingSnippet label=\"Location\" data={props.loc.location}/>\n            <ListingSnippet label=\"Price Per Acre\" data={formatPrice(Math.round(props.loc.price/props.loc.netAcreage))}/>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default ListingContainer\n\n","import React from 'react'\nimport ListingContainer from './ListingContainer'\nimport { useSelector } from 'react-redux'\n\nconst MapNearbyListings: React.SFC = () => {\n\n  const results: Array<string> = useSelector( (state: AppState) => state.searchResults )\n  const locations: {[key: string]: StateLocation } = useSelector( (state: AppState) => state.locations )\n\n  const listings = results.reduce((acc: Array<JSX.Element>,locID,idx) => {\n    if(idx > 0) {\n      acc.push((<ListingContainer key={locations[locID].name+locations[locID].location} loc={locations[locID]}/>))\n      return acc\n    }\n    return acc\n  },[])\n\n  return (\n    <section className=\"listings\">\n      <h3 className=\"map-aside-section-title\">Nearby Listings</h3>\n      <div className=\"listings-container\">\n        {listings}\n        <div className=\"listing-spacer\"/>\n      </div>\n    </section>\n  )\n}\n\nexport default MapNearbyListings","import React from 'react'\nimport MapSearchBar from './MapSearchBar'\nimport MapSearchResults from './MapSearchResults'\nimport MapNearbyListings from './MapNearbyListings'\n\nconst MapAside: React.SFC = () => {\n\n  // const greeting: string = useSelector( (state: AppState) => state.greeting )\n  // const dispatch = useDispatch()\n   \n\n  return (\n    <aside className=\"map-aside\">\n      <MapSearchBar />\n      <MapSearchResults />\n      <MapNearbyListings />\n    </aside>\n  )\n}\n\nexport default MapAside","import React, { useEffect } from 'react'\nimport L, { LeafletEvent } from 'leaflet'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { formatPrice } from './util'\n\nlet myMap: L.Map\nconst markerArray: Array<L.Marker> = []\n\nconst focusResultIcon = L.icon({\n  iconUrl: '/assets/icons/focused-map-marker.svg',\n  iconSize: [34, 50],\n  iconAnchor: [17, 50],\n  popupAnchor: [0, -53]\n})\n\nconst blurredResultIcon = L.icon({\n  iconUrl: '/assets/icons/blurred-map-marker.svg',\n  iconSize: [22, 32],\n  iconAnchor: [11, 32],\n  popupAnchor: [0, -35]\n})\n\n/*\n *  INITIALIZE MAP\n */\nconst initMap = () => {\n  // @ts-ignore\n  window.myMap = L.map('map',{zoomSnap: .25}).setView([37.090240,-95.712891], 4.6)\n  const Stamen_Terrain =\n  L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}',\n  {\n    attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    subdomains: 'abcd',\n    minZoom: 4,\n    maxZoom: 13,\n    // @ts-ignore - @types/leaflet isn't up to date with leaflet.\n    // This prop is required by lib, but not included by type definition.\n    ext: 'png'\n  })\n  // @ts-ignore\n  Stamen_Terrain.addTo(window.myMap)\n}\n\nfunction removeAllMarkers (markers: Array<L.Marker>): void {\n  const originalMarkersCount = markers.length\n  for(let i=0;i<originalMarkersCount;i++) {\n    markers[0].remove()\n    markers.shift()\n  }\n}\n\nconst MapEmbed: React.SFC = () => {\n  \n  const results: Array<string> = useSelector( (state: AppState) => state.searchResults )\n  const mapCenter: {lat: number, lng: number} | null = useSelector( (state: AppState) => state.mapCenter )\n  const mapZoom: number | null = useSelector( (state: AppState) => state.mapZoom )\n  const locations: {[key: string]: StateLocation } = useSelector( (state: AppState) => state.locations )\n  const dispatch = useDispatch()\n  \n  //only called once on initial render\n  useEffect(initMap,[])\n  \n  useEffect( () => {\n    removeAllMarkers(markerArray)\n\n    if (mapCenter && mapZoom) {\n      // @ts-ignore\n      window.myMap.setView([mapCenter.lat,mapCenter.lng],mapZoom)\n    }\n\n    results.forEach( (locID,idx) => {\n      const markerIcon = (idx === 0) ? focusResultIcon : blurredResultIcon\n      const newMarker = L.marker([locations[locID].latitude,locations[locID].longitude],{\n        icon: markerIcon,\n        alt: locations[locID].name + locations[locID].streetAddress\n      })\n      \n      // @ts-ignore\n      const markerNode = newMarker.addTo(window.myMap)\n\n      markerNode.bindPopup(`\n        <div class=\"popup-container\">\n          <div class=\"list-name\">\n          ${locations[locID].name}\n          </div>\n          <div class=\"list-price\">\n            ${formatPrice(locations[locID].price)}\n          </div>\n          <div class=\"list-data\">\n          ${locations[locID].netAcreage} acres\n          </div>\n        </div>\n      `)\n      markerNode.addEventListener('mouseover', (e: LeafletEvent) => {\n        e.target.openPopup();\n      })\n\n      markerNode.addEventListener('click', (e: LeafletEvent) => {\n        // @ts-ignore\n        const locID = e.originalEvent.target.alt\n        dispatch({type:\"SELECT_RESULT\",value: locID})\n        // @ts-ignore\n        window.myMap.closePopup()\n      })\n\n      markerArray.push(newMarker)\n    })\n    //dependancy is serialized to prevent 'Referential Inequality' from triggering this useEffect\n  },[JSON.stringify(results)])\n\n  return (\n    <figure className=\"map-embed\">\n      <div id=\"map\"/>\n    </figure>\n  )\n}\n\nexport default MapEmbed","import React from 'react'\nimport MapAside from './MapAside'\nimport MapEmbed from './MapEmbed'\n\nconst MapApp: React.SFC = () => {\n\n  // const greeting: string = useSelector( (state: AppState) => state.greeting )\n  // const dispatch = useDispatch()\n   \n\n  return (\n    <section className=\"map-app\">\n      <MapAside />\n      <MapEmbed />\n    </section>\n  )\n}\n\nexport default MapApp","import React, { useEffect } from 'react'\nimport HeaderBar from './HeaderBar'\nimport MapApp from './MapApp'\nimport './App.css'\nimport { useDispatch } from 'react-redux'\n\nfunction App() {\n\n  const dispatch = useDispatch()\n\n  useEffect( ()=> {\n    dispatch({type: \"POPULATE_LOCATIONS\"})\n  })\n\n  return (\n    <div className=\"app\">\n      <HeaderBar />\n      <MapApp />\n    </div>\n  );\n}\n\nexport default App\n","export const locations: Array<LotLocation> = [\n  {\n    name: \"Country Road Lot 266\",\n    price: 395000,\n    streetAddress: \"10181 County Road 266\",\n    location: \"Rochelle, TX\",\n    netAcreage: 80.84,\n    active: true,\n    latitude: 31.435990,\n    longitude: -99.030230,\n    image: \"cr_lot_266.jpg\"\n  },\n  {\n    name: \"Country Road Lot 310\",\n    price: 286790,\n    streetAddress: \"168 County Road 310\",\n    location: \"Gouldbusk, TX\",\n    netAcreage: 168.7,\n    active: true,\n    latitude: 31.569520,\n    longitude: -99.477880,\n    image: \"cr_lot_310.jpg\"\n  },\n  {\n    name: \"FM Lot 1929\",\n    price: 65000,\n    streetAddress: \"15040 Fm 1929 E\",\n    location: \"Millersview, TX\",\n    netAcreage: 6.83,\n    active: false,\n    latitude: 31.500940,\n    longitude: -99.721330,\n    image: \"fm_lot_1929.jpg\"\n  },\n  {\n    name: \"FM Lot 503\",\n    price: 495000,\n    streetAddress: \"6692 Fm #503\",\n    location: \"Brady, TX 76836\",\n    netAcreage: 198,\n    active: true,\n    latitude: 31.021270,\n    longitude: -99.464190,\n    image: \"fm_lot_503.jpg\"\n  },\n  {\n    name: \"Country Road Lot 312\",\n    price: 1993600,\n    streetAddress: \"3408 County Road 312\",\n    location: \"Voss, TX\",\n    netAcreage: 712.72,\n    active: true,\n    latitude: 31.502700,\n    longitude: -99.586870,\n    image: \"cr_lot_312.jpg\"\n  },\n  {\n    name: \"Country Road Lot 362\",\n    price: 259000,\n    streetAddress: \"1006 County Road 362\",\n    location: \"Coleman, TX\",\n    netAcreage: 46.93,\n    active: false,\n    latitude: 31.71204,\n    longitude: -99.52108,\n    image: \"cr_lot_362.jpg\"\n  },\n  {\n    name: \"Country Road Lot 1343\",\n    price: 1425000,\n    streetAddress: \"8043 County Road 1343\",\n    location: \" Paint Rock, TX\",\n    netAcreage: 801.6,\n    active: true,\n    latitude: 31.826883,\n    longitude: -99.007297,\n    image: \"cr_lot_1343.jpg\"\n  },\n  {\n    name: \"FM Lot 503\",\n    price: 425000,\n    streetAddress: \"9401 Fm 503\",\n    location: \" Doole, TX\",\n    netAcreage: 52.26,\n    active: false,\n    latitude: 31.555611,\n    longitude: -99.56996,\n    image: \"fm_lot_503.jpg\"\n  },\n];\n","import { createStore, Reducer } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { locations } from '../constants'\n\n\nconst initState: AppState = {\n  locations: {},\n  searchInputString: \"\",\n  submittedSearch: \"\",\n  searchResults: [],\n  mapCenter: {lat:31.1352,lng:-99.3351},\n  mapZoom: 6.5\n}\n\nfunction deepCopy (obj1: any): any {\n  return JSON.parse(JSON.stringify(obj1))\n}\n\nfunction filterLocationsBySearch (searchStr: string,acc: Array<string>,loc: StateLocation): Array<string> {\n  const lowerSearch = searchStr.toLowerCase()\n  if( lowerSearch.length > 0 &&\n      (loc.name.toLowerCase().includes(lowerSearch) ||\n      loc.streetAddress.toLowerCase().includes(lowerSearch))) {\n        const locID = loc.name+loc.streetAddress\n        acc.push(locID)\n      }\n    return acc\n}\n\n\nfunction sortByDist (state: AppState,center: {lat:number,lng:number},locIdA: string,locIdB: string): number {\n  const aLat = state.locations[locIdA].latitude\n  const aLng = state.locations[locIdA].longitude\n  const bLat = state.locations[locIdB].latitude\n  const bLng = state.locations[locIdB].longitude\n  const cLat = center.lat\n  const cLng = center.lng\n\n  const distA = Math.sqrt( Math.pow(cLat-aLat,2) + Math.pow(cLng-aLng,2) )\n  const distB = Math.sqrt( Math.pow(cLat-bLat,2) + Math.pow(cLng-bLng,2) )\n  return distA - distB\n}\n\nfunction calcMapZoom (markers: {[key: string]: {lat: number,lng: number}},center: {lat: number,lng: number}) {\n  const largestDist = Object.values(markers).reduce( (acc: number, mark: {lat: number,lng: number}): number => {\n    const distFromCenter = Math.sqrt( Math.pow(mark.lat - center.lat,2) + Math.pow(mark.lng-center.lng,2) )\n    return Math.max(acc,distFromCenter)\n  },0)\n  \n  if(largestDist === 0) {\n    return 13\n  }\n  return -3 * largestDist + 11\n}\n\nfunction calcMapStateAndSortResults (state: AppState,unsortedResults: Array<string>): {newMapCenter: {lat:number,lng:number} | null, newMapZoom: number | null, sortedResults: Array<string>} {\n  const locs = state.locations\n  const markerCollection: {[key: string]: {lat: number,lng: number}} = {}\n  let latSum = 0\n  let longSum = 0\n  \n  unsortedResults.forEach( (locID: string) => {\n    markerCollection[locID] = {lat:locs[locID].latitude, lng:locs[locID].longitude}\n    latSum += locs[locID].latitude\n    longSum += locs[locID].longitude\n  },{})\n  \n  let mapCenter = null\n  let mapZoom = null\n  let sortedResults: Array<string> = []\n  \n  const locCount = unsortedResults.length\n  if(locCount > 0) {\n    mapCenter = {lat:latSum/locCount,lng:longSum/locCount}\n    mapZoom = calcMapZoom(markerCollection,mapCenter)\n  }\n  \n  if(mapCenter) {\n    sortedResults = unsortedResults.sort(sortByDist.bind(null,state,mapCenter))\n  }\n\n  return {\n    newMapCenter: mapCenter,\n    newMapZoom: mapZoom,\n    sortedResults: sortedResults\n  }\n}\n\nconst reducer: Reducer<AppState, CustAction> = (oldState: (AppState | undefined),action: CustAction) => {\n  \n  const newState: AppState = (oldState) ? deepCopy(oldState) : initState\n  \n  if (action.type === \"POPULATE_LOCATIONS\") {\n    newState.locations = locations.reduce( (acc,loc) => ({...acc,[loc.name+loc.streetAddress]:{...loc,favorite: false}}),{})\n  }\n\n  else if (action.type === \"TOGGLE_FAVORITE\" && typeof action.value === \"string\") {\n    newState.locations[action.value].favorite = !newState.locations[action.value].favorite\n  }\n\n  else if (action.type === \"UPDATE_SEARCH\" && typeof action.value === \"string\") {\n    newState.searchInputString = action.value\n  }\n\n  else if (action.type === \"SUBMIT_SEARCH\" && newState.searchInputString !== \"\") {\n    newState.submittedSearch = newState.searchInputString.trim()\n    newState.searchInputString = newState.searchInputString.trim()\n    const unsortedSearchResults = Object.values(newState.locations).reduce(filterLocationsBySearch.bind(null,newState.submittedSearch),[])\n    const {newMapCenter,newMapZoom,sortedResults} = calcMapStateAndSortResults(newState,unsortedSearchResults)\n    newState.mapCenter = newMapCenter\n    newState.mapZoom = newMapZoom\n    newState.searchResults = sortedResults\n  }\n\n  else if (action.type === \"SELECT_RESULT\" && typeof action.value === \"string\") {\n    let matchingIdx: number = -1\n    newState.searchResults.forEach( (locID,idx)=> {\n      if(locID === action.value) {\n        matchingIdx = idx\n      } \n    })\n    \n    if(matchingIdx >= 0) {\n      const matchingElement: Array<string> = newState.searchResults.splice(matchingIdx,1)\n      newState.searchResults = [...matchingElement,...newState.searchResults]\n    }\n  }\n\n  return newState\n}\n\nexport default () => createStore(reducer,initState,composeWithDevTools())\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport createStore from './redux/store'\nimport 'leaflet/dist/leaflet.css'\n\nconst store = createStore()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n    </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}